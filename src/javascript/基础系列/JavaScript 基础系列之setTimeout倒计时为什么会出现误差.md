# setTimeout 倒计时为什么会出现误差？

`setTimeout()` 只是将事件插入了“任务队列”，必须等当前代码（执行栈）执行完，主线程才会去执行它指定的回调函数。要是当前代码消耗时间很长，也有可能要等很久，所以并没办法保证回调函数一定会在 `setTimeout()` 指定的时间执行。所以， `setTimeout()` 的第二个参数表示的是最少时间，并非是确切时间。

HTML5 标准规定了 `setTimeout()` 的第二个参数的最小值不得小于 4 毫秒，如果低于这个值，则默认是 4 毫秒。在此之前。老版本的浏览器都将最短时间设为 10 毫秒。另外，对于那些 DOM 的变动（尤其是涉及页面重新渲染的部分），通常是间隔 16 毫秒执行。这时使用 `requestAnimationFrame()` 的效果要好于 `setTimeout()`

## 任务队列

什么任务队列,就要说到, 事件循环 `event loop`, 具体可以需要看下这篇笔记总结

[JavaScript 专题系列之事件循环](./src/javascript/专题系列/JavaScript 专题系列之事件循环.md)
